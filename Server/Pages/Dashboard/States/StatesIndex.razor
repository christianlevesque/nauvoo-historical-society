@{
	// False warning about SortLabel lambdas having incorrect nullability
	#pragma warning disable CS8622
}

@using Server.Tools
@using Services
@using Services.Infrastructure

@inherits ActionPage<StatesIndex, ICrudService<StateDto>>

@attribute [Route(Urls.Dashboard.States.Index)]
@attribute [Layout(typeof(DashboardLayout))]
@attribute [Authorize(Roles = Roles.Admin)]

<DocTitle Title="States listing"/>

<TemplatedTable TItem="StateDto"
                TableTitle="States"
                RowTemplate="typeof(StateTemplate)"
                LoadData="Service.Get">
	<ToolBarContent>
    	<PrimaryIconButton Link="@Urls.Dashboard.States.Add"
    	                   Icon="@Icons.Material.Filled.Add"/>
    </ToolBarContent>

    <HeaderContent>
    	<SortLabel For="(StateDto s) => s.Name"/>
	    <SortLabel For="(StateDto s) => s.Abbreviation"/>
    	<MudTh>Actions</MudTh>
    </HeaderContent>
</TemplatedTable>